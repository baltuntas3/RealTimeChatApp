server {
    #  listen  80#$PORT;
    # server_name  frontend:3000;
     
    listen 443 ssl;
    # server_name  www.yoursite.com;
    ssl_certificate /etc/ssl/certs/nginx-selfsigned.crt;
    ssl_certificate_key /etc/ssl/certs/SSL.com_Root_Certification_Authority_RSA.pem;

    location / {
        proxy_pass http://frontend:3000/;
        error_log /var/log/front_end_errors.log;
    }

     gzip on;
     gzip_vary on;
     gzip_min_length 10240;
     gzip_proxied expired no-cache no-store private auth;
     gzip_types text/plain text/css text/xml text/javascript application/x-javascript application/xml;
     gzip_disable "MSIE [1-6]\.";

}

server {
    listen 80;

    server_name http://frontend:3000
    return 301 https://$host$request_uri;
}